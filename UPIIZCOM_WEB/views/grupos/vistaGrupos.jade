extends ../layout


block CONTENIDO
    .container-fluid(ng-controller='TablaCtrl')
        .page-header.min-height-300.border-radius-xl.mt-4(style="background-image: url('https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/img/curved-images/curved0.jpg'); background-position-y: 50%;")
            span.mask.bg-gradient-primary.opacity-6
        .card.card-body.blur.shadow-blur.mx-4.mt-n6.overflow-hidden
            .row.gx-4
                .col-auto
                    .avatar.avatar-xl.position-relative
                        img.w-100.border-radius-lg.shadow-sm(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/img/bruce-mars.jpg' alt='profile_image')
                .col-auto.my-auto
                    .h-100
            .container-fluid.py-4
                section.py-3
                    .row
                        .col-md-8.me-auto.text-left
                            h5 Sus grupos actuales
                            p  Aqui se muestran los grupos a los cuales se encuentra inscrito en este momento.
                    // ESTE COMPONETE ES DE PRUEBA
                    #COMPONENTE.container-fluid(ng-controller='TablaCtrl')
                        h1 {{hola}} 
                        input(type='button' value='Ocultar/Mostrar Tabla' ng-click='ocultaMuestra()')
                        table.table(ng-show='mostrar')
                            tbody
                                tr
                                    th Nombre
                                    th Descripción
                                    th Número de participantes
                                    th Acción
                                    th  
                                tr
                                    td
                                        input(type='text' ng-model='grupo.nombre' onkeypress="return alfanumerico(event)" onpaste="return false")
                                    td
                                        input(type='text' ng-model='grupo.descripcion' onkeypress="return alfanumerico(event)" onpaste="return false")
                                    td
                                        input(type='number' ng-model='grupo.noIntegrantes')
                                    td
                                        input.btn-dark(type='button' value='Agregar' ng-click='addGrupo()')
                                    td
                                        input.btn-info(type='button' value='Actualizar' ng-click='updateGrupo()')
                                tr(ng-repeat='g in grupos')
                                    td  {{g.nombre}} 
                                    td  {{g.descripcion}} 
                                    td  {{g.noIntegrantes}} 
                                    td
                                        input.btn-danger(type='button' value='Eliminar' ng-click='delGrupo($index)')
                                    td
                                        input.btn-link(type='button' value='Editar' ng-click='editGrupo($index)')
                        // AISLADO
                        .row.mt-lg-4.mt-2  
                                .col-lg-4.col-md-6.mb-4
                                    .card
                                        .card-body.p-3(ng-repeat='g in grupos')
                                            .d-flex
                                                .avatar.avatar-xl.bg-gradient-dark.border-radius-md.p-2
                                                    img(widht='55' height='55' src='{{g.imagen}}' alt='slack_logo')
                                                .ms-3.my-auto
                                                    h6 
                                                        a(href="perfilGrupo/{{g._id}}") {{g.nombre}} 
                                                    .avatar-group
                                                        a.avatar.avatar-xs.rounded-circle(href='javascript:;' data-bs-toggle='tooltip' data-original-title='Jessica Rowland')
                                                            img(alt='Image placeholder' src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/img/team-3.jpg')
                                                        a.avatar.avatar-xs.rounded-circle(href='javascript:;' data-bs-toggle='tooltip' data-original-title='Audrey Love')
                                                            img.rounded-circle(alt='Image placeholder' src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/img/team-4.jpg')
                                                        a.avatar.avatar-xs.rounded-circle(href='javascript:;' data-bs-toggle='tooltip' data-original-title='Michael Lewis')
                                                            img.rounded-circle(alt='Image placeholder' src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/img/team-2.jpg')
                                                        a.avatar.avatar-xs.rounded-circle(href='javascript:;' data-bs-toggle='tooltip' data-original-title='Jessica Rowland')
                                                            img(alt='Image placeholder' src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/img/team-3.jpg')
                                                        a.avatar.avatar-xs.rounded-circle(href='javascript:;' data-bs-toggle='tooltip' data-original-title='Audrey Love')
                                                            img.rounded-circle(alt='Image placeholder' src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/img/team-4.jpg')
                                                .ms-auto
                                                    .dropdown
                                                        button#navbarDropdownMenuLink.btn.btn-link.text-secondary.ps-0.pe-2(data-bs-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
                                                            i.fa.fa-ellipsis-v.text-lg
                                                        .dropdown-menu.dropdown-menu-end.me-sm-n4.me-n3(aria-labelledby='navbarDropdownMenuLink')
                                                            p 
                                                            a.dropdown-item(ng-click='delGrupo($index)') Eliminar
                                                            a.dropdown-item(ng-click='editGrupo($index)' href="editarGrupo/={{g._id}}") Editar
                                            p.text-sm.mt-3 {{g.descripcion}}
                                                p
                                                    a(href="editarGrupo/{{g._id}}") Editar
                                                p
                                                    a(href="" ng-click='delGrupo($index)') Eliminar
                                                p
                                                    a(href="anadirMiembros/{{g._id}}") Agregar miembros
                                            hr.horizontal.dark
                                            .row
                                                .col-6
                                                p
                                                    h6.text-sm.mb-0 Tipo 
                                                    p.text-secondary.text-sm.font-weight-bold.mb-0 {{g.tipo}}
                                                .col-6  
                                                    h6.text-sm.mb-0 # Usuarios
                                                    p.text-secondary.text-sm.font-weight-bold.mb-0  {{g.noIntegrantes}}

                    .col-lg-4.col-md-6.mb-4
                        .card.h-100
                            .card-body.d-flex.flex-column.justify-content-center.text-center
                                a(href='nuevoGrupo')
                                    i.fa.fa-plus.text-secondary.mb-3
                                    h5.text-secondary  Nuevo grupo 
block SCRIPTS 
    script(src='../assets/js/A_EjemploTabla.js')
    script(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/js/core/popper.min.js')
    script(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/js/core/bootstrap.min.js')
    script(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/js/plugins/perfect-scrollbar.min.js')
    script(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/js/plugins/smooth-scrollbar.min.js')
    script(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/js/plugins/dragula/dragula.min.js')
    script(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/js/plugins/jkanban/jkanban.js')
    script.
        var win = navigator.platform.indexOf('Win') > -1;
        if (win && document.querySelector('#sidenav-scrollbar')) {
            var options = {
                damping: '0.5'
            }
            Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
        }
    script(async='' defer='' src='https://buttons.github.io/buttons.js')
    script(src='https://demos.creative-tim.com/soft-ui-dashboard-pro/assets/js/soft-ui-dashboard.min.js?v=1.0.4')